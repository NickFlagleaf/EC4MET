[{"path":"https://nickflagleaf.github.io/EC4MET/articles/EC4MET-workflow-example.html","id":"installing-ec4met","dir":"Articles","previous_headings":"","what":"Installing EC4MET","title":"EC4MET workflow example","text":"EC4MET package can installed Github loaded library.","code":"# devtools::install_github(\"NickFlagleaf/EC4MET\", build_vignettes = T) library(EC4MET)"},{"path":"https://nickflagleaf.github.io/EC4MET/articles/EC4MET-workflow-example.html","id":"example-work-flow","dir":"Articles","previous_headings":"","what":"Example work flow","title":"EC4MET workflow example","text":"Load package example dataset info field trial environments: example data set includes environment names, lat lon values sowing dates 36 trial environments Australia part CAIGE project (Trethowan et al. 2024) well fitted environmental main effects factor loadings fitted factor analytic mixed model multi-environment trial (MET) analysis described (Fradgley et al. 2025; Smith et al. 2021).","code":"data(\"CAIGE20_22envs\") head(CAIGE20_22envs)"},{"path":"https://nickflagleaf.github.io/EC4MET/articles/EC4MET-workflow-example.html","id":"get-ecs-for-observed-environments","dir":"Articles","previous_headings":"Example work flow","what":"Get ECs for observed environments","title":"EC4MET workflow example","text":"Get daily weather data SILO (Jeffrey et al. 2001) observed environment MET get.SILO.weather() function: get.BARRA.weather() function can similarly used extract different weather data BARRA-R2 data resource (Su et al. 2022) output data format. can see $data output contains data matrix six weather variables 36 environments rows 365 days year columns: daily index soil moisture can also estimated calculated based rainfall, temp, day length added weather data object: weather data can used define crop growth stage specific ECs environment. can see output function includes (ECs) data frame 104 ECs columns 36 environments rows well data frame (gs.dates) estimated dates crop growth stages ECS calculated : well weather related ECs, soil attribute covariates can extracted using get.S.ECs function SLGA data resource (Grundy et al. 2015). soil EC data matrix also format 36 environments rows 96 soil ECS columns: information ECs calculated, see Fradgley et al. (2025) .","code":"obs.wthr <- get.SILO.weather(   Envs = CAIGE20_22envs$Environment,   Lats = CAIGE20_22envs$Lat,   Lons = CAIGE20_22envs$Long,   Years = CAIGE20_22envs$Year,   verbose = T ) sapply(obs.wthr$data, dim) obs.wthr <- add.SMI(obs.wthr) obs.weather.ECs <- get.W.ECs(   weather = obs.wthr,   sow.dates = CAIGE20_22envs$Sowing.date,   verbose = T ) dim(obs.weather.ECs$ECs) head(obs.weather.ECs$gs.dates) obs.soil.ECs <- get.S.ECs(   Envs = CAIGE20_22envs$Environment,   Lats = CAIGE20_22envs$Lat,   Lons = CAIGE20_22envs$Long,   verbose = F ) dim(obs.soil.ECs)"},{"path":"https://nickflagleaf.github.io/EC4MET/articles/EC4MET-workflow-example.html","id":"get-ecs-for-a-wider-set-of-unobserved-environments","dir":"Articles","previous_headings":"Example work flow","what":"Get ECs for a wider set of unobserved environments","title":"EC4MET workflow example","text":"example dataset gridded environment locations cover extend Australian wheat belt also included package. dataset includes 5,091 unique environments 2018 2020. ECs untested environments can extracted calculated similar way observed data. Combine weather soil ECs observed wheat belt environments:","code":"data(\"wheat.area.envs\") head(wheat.area.envs) dim(wheat.area.envs) unique(wheat.area.envs$Year) wheat.area.wthr <- get.SILO.weather(   Envs = wheat.area.envs$Env,   Lats = wheat.area.envs$Lat,   Lons = wheat.area.envs$Lon,   Years = wheat.area.envs$Year,   verbose = T )  wheat.area.wthr<-add.SMI(wheat.area.wthr)  wheat.area.wthr.ECs <- get.W.ECs(   weather = wheat.area.wthr,   sow.dates = wheat.area.envs$sow.dates,   verbose = T )  wheat.area.soil.ECs <- get.S.ECs(   Envs = wheat.area.envs$Env,   Lats = wheat.area.envs$Lat,   Lons = wheat.area.envs$Lon,   verbose = T ) obsECs <- cbind(obs.weather.ECs$ECs, obs.soil.ECs)  wheat.area.ECs <- cbind(wheat.area.wthr.ECs$ECs, wheat.area.soil.ECs)"},{"path":"https://nickflagleaf.github.io/EC4MET/articles/EC4MET-workflow-example.html","id":"predict-into-unobserved-environments","dir":"Articles","previous_headings":"Example work flow","what":"Predict into unobserved environments","title":"EC4MET workflow example","text":"Predict environmental effects defibed observed environments dataset wheat belt environments based ECs using pred.env.effs() function: Environment type iClasses defined combination either positive negative factor loadings environment can calculated described Smith et al. (2021). iClass environement types can plotted environments Australian grain belt maps year:","code":"obs.env.effs <- CAIGE20_22envs[, c(\"Main_E_effect\", \"FA1\", \"FA2\", \"FA3\")] rownames(obs.env.effs) <- CAIGE20_22envs$Environment wheat.area.preds <- pred.env.effs(   train.ECs = obsECs,   new.ECs = wheat.area.ECs,   E.effs = obs.env.effs ) iclasses <- apply(wheat.area.preds[, c(\"FA1\", \"FA2\", \"FA3\")], 1, function(x) paste(ifelse(x > 0, \"p\", \"n\"), collapse = \"\"))  iclass.cols <- c(\"#30123BFF\", \"#1AE4B6FF\", \"#FABA39FF\", \"#7A0403FF\") names(iclass.cols) <- unique(iclasses) par(mfrow = c(2, 2), mar = c(1, 1, 1, 1)) for (y in unique(wheat.area.envs$Year)) {   oz::oz()   points(wheat.area.envs$Lon[wheat.area.envs$Year == y],     wheat.area.envs$Lat[wheat.area.envs$Year == y],     pch = 15, cex = .5,     col = iclass.cols[iclasses[wheat.area.envs$Year == y]]   )   mtext(text = y, side = 3, line = -1.5, cex = 1.2) }"},{"path":[]},{"path":"https://nickflagleaf.github.io/EC4MET/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Nick Fradgley. Author, maintainer. Alex Whan. Author.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Fradgley N, Whan (2025). EC4MET: Derive ECs METs. R package version 0.1.0, https://nickflagleaf.github.io/EC4MET/.","code":"@Manual{,   title = {EC4MET: Derive ECs for METs},   author = {Nick Fradgley and Alex Whan},   year = {2025},   note = {R package version 0.1.0},   url = {https://nickflagleaf.github.io/EC4MET/}, }"},{"path":[]},{"path":"https://nickflagleaf.github.io/EC4MET/index.html","id":"derive-ecs-for-mets","dir":"","previous_headings":"","what":"Derive ECs for METs","title":"Derive ECs for METs","text":"EC4MET derives environmental data defines covariates (ECs) crop trial environments Australia model environmental effects genotype environment interactions. example workflow detailed vignette.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/index.html","id":"installation","dir":"","previous_headings":"Derive ECs for METs","what":"Installation","title":"Derive ECs for METs","text":"install Github using devtools:","code":"devtools::install_github(\"NickFlagleaf/EC4MET\",build_vignettes = T)"},{"path":"https://nickflagleaf.github.io/EC4MET/reference/CAIGE20_22envs.html","id":null,"dir":"Reference","previous_headings":"","what":"CAIGE wheat trial environments data — CAIGE20_22envs","title":"CAIGE wheat trial environments data — CAIGE20_22envs","text":"subset data CAIGE project wheat Multi environment yield trial series years 2020 2022.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/CAIGE20_22envs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"CAIGE wheat trial environments data — CAIGE20_22envs","text":"","code":"CAIGE20_22envs"},{"path":"https://nickflagleaf.github.io/EC4MET/reference/CAIGE20_22envs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"CAIGE wheat trial environments data — CAIGE20_22envs","text":"data frame 36 rows 9 columns: Column names include","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/add.SMI.html","id":null,"dir":"Reference","previous_headings":"","what":"Add estimated Soil Moisture Index (SMI) to weather data — add.SMI","title":"Add estimated Soil Moisture Index (SMI) to weather data — add.SMI","text":"function uses daily rainfall temperature estimate SMI weather data object output get weather functions get.SILO.weather().","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/add.SMI.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add estimated Soil Moisture Index (SMI) to weather data — add.SMI","text":"","code":"add.SMI(weather, verbose = TRUE)"},{"path":"https://nickflagleaf.github.io/EC4MET/reference/add.SMI.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add estimated Soil Moisture Index (SMI) to weather data — add.SMI","text":"weather list length 2. Weather data outputted get.SILO.weather(). Weather covariate names list items include: daily_rain max_temp verbose Logical. progress printed? Default TRUE.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/add.SMI.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add estimated Soil Moisture Index (SMI) to weather data — add.SMI","text":"weather list object inputted addition matrix daily SMI values ...$data$smi.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/add.SMI.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add estimated Soil Moisture Index (SMI) to weather data — add.SMI","text":"simplified SMI calculated based dynamic water balance model soil moisture proportionally dried daily evapotranspiration increased daily precipitation. equation SMI following day(\\(SMI_{+1}\\)) : $$SMI_{+1} = \\min{(1,\\frac{SMI_i}{\\frac{PET_i}{AWC \\times c_s}c_d + 1} + (P_i \\times c_p))}$$ \\(SMI_i\\) SMI day \\(\\), \\(PET_i\\) potential evapotranspiration using Thornthwaite equation day \\(\\), \\(P_i\\) precipitation (mm) day \\(\\). constants \\(c_s\\), \\(c_d\\), \\(c_p\\) optimised based ground truthed data TERN","code":""},{"path":[]},{"path":"https://nickflagleaf.github.io/EC4MET/reference/add.SMI.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Add estimated Soil Moisture Index (SMI) to weather data — add.SMI","text":"Nick Fradgley","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.BARRA.weather.html","id":null,"dir":"Reference","previous_headings":"","what":"Get weather data from BARRA-R2 — get.BARRA.weather","title":"Get weather data from BARRA-R2 — get.BARRA.weather","text":"Extract weather data Australia BARRA-R2 weather data resource set environments defined latitude longitude coordinates. BARRA-R2 data runs Jan 1979 Sept 2024.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.BARRA.weather.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get weather data from BARRA-R2 — get.BARRA.weather","text":"","code":"get.BARRA.weather(   Envs,   Lats,   Lons,   Years,   ncores = NULL,   verbose = TRUE,   dlprompt = FALSE )"},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.BARRA.weather.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get weather data from BARRA-R2 — get.BARRA.weather","text":"Envs Vector environment names character strings. Lats Vector latitude numeric values environment order Envs. Lons Vector longitude numeric values environment order Envs. Years Vector year integer values environment order Envs. ncores Number (integer) cores use parallel processing gridded data 5 cores. Use 1 run series. default (NULL) use maximum available cores 5. running parallel, output log text file created working directory. verbose Logical. progress printed? Default = TRUE. dlprompt Logical. user prompted approve total download size? Default = TRUE.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.BARRA.weather.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get weather data from BARRA-R2 — get.BARRA.weather","text":"list length 2: $data list matrices weather data weather variable. data matrix environment names rows days year columns $Env.info data frame environment names coordinate values environments included data.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.BARRA.weather.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get weather data from BARRA-R2 — get.BARRA.weather","text":"Weather variables returned include: daily_rain - Daily rainfall (mm) max_temp - Maximum temperature (°C) min_temp - Minimum temperature (°C) vp_deficit - Vapour pressure deficit (hPa) radiation - Solar exposure, consisting direct diffuse components (MJ m-2) day_lengths - Time sunrise sunset (h) taken BARRA-R2 VPD hPa calculated \\( VPD = 10(es - ea) \\), $$ es = 0.6108 \\times \\exp(\\frac{17.27 \\times T_{ave}}{T_{ave} + 237.3}) $$, \\(T_{ave} \\) mean temperature °C, $$ ea = \\frac{RH}{100} \\times es $$, \\(RH\\) relative humidity (%).","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.BARRA.weather.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get weather data from BARRA-R2 — get.BARRA.weather","text":"Su, C.H., Dharssi, ., Le Marshall, J., Le, T., Rennie, S., Smith, ., Stassen, C., Steinle, P., Torrance, J., Wang, C. Warren, R.., 2022. BARRA2: Development next-generation Australian regional atmospheric reanalysis. Bureau Meteorology.","code":""},{"path":[]},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.CMIP6.weather.html","id":null,"dir":"Reference","previous_headings":"","what":"Get weather data from CMIP6 QDC — get.CMIP6.weather","title":"Get weather data from CMIP6 QDC — get.CMIP6.weather","text":"Extract weather data Coupled Model Intercomparison Project phase 6 using Quantile Delta Change method Australia CMIP6 QDC weather data resource set environments defined latitude longitude coordinates.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.CMIP6.weather.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get weather data from CMIP6 QDC — get.CMIP6.weather","text":"","code":"get.CMIP6.weather(   Envs,   Lats,   Lons,   Years,   GCMs,   SSPs,   ncores = NULL,   verbose = TRUE,   dlprompt = FALSE )"},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.CMIP6.weather.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get weather data from CMIP6 QDC — get.CMIP6.weather","text":"Envs Vector environment names character strings. Lats Vector latitude numeric values environment order Envs. Lons Vector longitude numeric values environment order Envs. Years Vector year integer values. Unlike get.SILO.weather() get.BARRA.weather(), Years length Envs. Data locations Envs extracted Years. Must within possible GCMs Vector GCM names get data . options see Details . SSPs Vector SSP names get data . options see Details . ncores Number (integer) cores use parallel processing gridded data 5 cores. Use 1 run series. default (NULL) use maximum available cores 5. running parallel, output log text file created working directory. verbose Logical. progress printed? Default = TRUE. dlprompt Logical. user prompted approve total download size? Default = TRUE.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.CMIP6.weather.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get weather data from CMIP6 QDC — get.CMIP6.weather","text":"multi-level list $data $Env.info weather variables within SSPs within GCMs: $data list matrices weather data weather variable. data matrix environment names rows days year columns $Env.info data frame environment names coordinate values environments included data. E.g. x$ACCESS-CM2$ssp585$daily_rain$data[1,1] return rainfall Jan 1st first location first year high emissions SSP585 ACCESS-CM2 GCM.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.CMIP6.weather.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get weather data from CMIP6 QDC — get.CMIP6.weather","text":"CMPI6 QDC dataset hosted CSIRO data server includes climate projections historical (1985-2014) two future periods years (2035-2064 2070-2099). Years values must within time periods. QDC method benchmarks CMIP6 observational data BARRA-R2 dataset used combination get.BARRA.weather() rather get.SILO.weather() function observed environments outside 1985-2014 time period CMIP6 QDC historical time period. Weather variables returned include: daily_rain - Daily rainfall (mm) max_temp - Maximum temperature (°C) min_temp - Minimum temperature (°C) vp_deficit - Vapour pressure deficit (hPa) radiation - Solar exposure, consisting direct diffuse components (MJ m-2) day_lengths - Time sunrise sunset (h) taken CMIP6 QDC VPD hPa calculated \\( VPD = 10(es - ea) \\), \\( es = 0.6108 \\times \\exp(\\frac{17.27 \\times T_{ave}}{T_{ave} + 237.3}) \\), \\(T_{ave} \\) mean temperature °C, $$ ea = \\frac{RH}{100} \\times es $$, \\(RH\\) relative humidity (%). Possible options Global Climate Models (GCM): ACCESS-CM2 - much hotter future, drier regions except southeast ACCESS-ESM1-5 - hotter much drier future CMCC-ESM2 - much hotter future little change mean rainfall (regional exceptions) CNRMESM2-1 - much hotter future, much drier especially east, wetter northwest EC-Earth3 - hotter much wetter future much Australia (except southwest Western Australia) MPI-ESM1-2-HR - Lower warming, mid-range changes rainfall NorESM2-MM - Lower warming, mid-range changes rainfall UKESM1-0-LL - Low probability, high impact case (high climate sensitivity, high Australian warming) details see Grose et al. 2023 Possible options Shared Socio-economic Pathways (SSP) equivalent Representative Concentration Pathways (RCP) expected temperature increase range: ssp126 - Sustainability (RCP2.6; 1.0-1.8°C) ssp245 - Middle road (RCP4.5; 1.3-2.4°C) ssp370 - Regional rivalry (equivalent RCP; 2.8-4.6°C) ssp585 - Fossil fueled development (RCP8.5; 3.3-5.7°C) details see Riahi et al. 2017 internet connection high download speed suggested downloading gridded data many environments.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.CMIP6.weather.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get weather data from CMIP6 QDC — get.CMIP6.weather","text":"Grose, M. R., Narsey, S., Trancoso, R., Mackallah, C., Delage, F., Dowdy, ., Di Virgilio, G., Watterson, ., Dobrohotoff, P., Rashid, H. ., Rauniyar, S., Henley, B., Thatcher, M., Syktus, J., Abramowitz, G., Evans, J. P., Su, C.-H., & Takbash, . (2023). CMIP6-based multi-model downscaling ensemble underpin climate change services Australia. Climate Services, 30, 100368. Irving, D., & Macadam, . (2024). Application-Ready Climate Projections CMIP6 using Quantile Delta Change method. CSIRO Climate Innovation Hub Technical Note 5. Technical Note. Riahi, K., van Vuuren, D. P., Kriegler, E., Edmonds, J., O’Neill, B. C., Fujimori, S., Bauer, N., Calvin, K., Dellink, R., Fricko, O., Lutz, W., Popp, ., Cuaresma, J. C., Kc, S., Leimbach, M., Jiang, L., Kram, T., Rao, S., Emmerling, J., … Tavoni, M. (2017). Shared Socioeconomic Pathways energy, land use, greenhouse gas emissions implications: overview. Global Environmental Change, 42, 153–168.","code":""},{"path":[]},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.CMIP6.weather.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get weather data from CMIP6 QDC — get.CMIP6.weather","text":"Nick Fradgley","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.S.ECs.html","id":null,"dir":"Reference","previous_headings":"","what":"Get soil data from SLGA — get.S.ECs","title":"Get soil data from SLGA — get.S.ECs","text":"function derive soil Environmental Covariates (ECs) multiple soil attributes multiple depths SLGA data resource.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.S.ECs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get soil data from SLGA — get.S.ECs","text":"","code":"get.S.ECs(Envs, Lats, Lons, ncores = NULL, verbose = TRUE, dlprompt = FALSE)"},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.S.ECs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get soil data from SLGA — get.S.ECs","text":"Envs Vector environment names character strings. Lats Vector latitude numeric values environment. Lons Vector longitude numeric values environment. ncores Number (integer) cores use parallel processing. Use 1 run sequentially series. default (NULL) use maximum available cores. running parallel, output log text file created working directory. verbose Logical. progress printed? Default = TRUE. dlprompt Logical. user prompted approve total download size? Default = FALSE.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.S.ECs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get soil data from SLGA — get.S.ECs","text":"data frame soil EC values environment names rows covariates columns.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.S.ECs.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get soil data from SLGA — get.S.ECs","text":"Grundy, M. J., Rossel, R. . V., Searle, R. D., Wilson, P. L., Chen, C., Gregory, L. J., Grundy, M. J., Rossel, R. . V., Searle, R. D., Wilson, P. L., Chen, C., & Gregory, L. J. (2015). Soil Landscape Grid Australia. Soil Research, 53(8), 835–844.","code":""},{"path":[]},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.S.ECs.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get soil data from SLGA — get.S.ECs","text":"Nick Fradgley","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.SILO.weather.html","id":null,"dir":"Reference","previous_headings":"","what":"Get weather data from SILO — get.SILO.weather","title":"Get weather data from SILO — get.SILO.weather","text":"Extract weather data Australia SILO weather data resource set environments defined latitude longitude coordinates.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.SILO.weather.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get weather data from SILO — get.SILO.weather","text":"","code":"get.SILO.weather(   Envs,   Lats,   Lons,   Years,   ncores = NULL,   verbose = TRUE,   dlprompt = FALSE )"},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.SILO.weather.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get weather data from SILO — get.SILO.weather","text":"Envs Vector environment names character strings. Lats Vector latitude numeric values environment order Envs. Lons Vector longitude numeric values environment order Envs. Years Vector year integer values environment order Envs. ncores Number (integer) cores use parallel processing gridded data 5 cores. Use 1 run series. default (NULL) use maximum available cores 5. running parallel, output log text file created working directory. verbose Logical. progress printed? Default = TRUE. dlprompt Logical. user prompted approve total download size? Default = FALSE","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.SILO.weather.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get weather data from SILO — get.SILO.weather","text":"list length 2: $data list matrices weather data weather variable. data matrix environment names rows days year columns $Env.info data frame environment names coordinate values environments included data.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.SILO.weather.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get weather data from SILO — get.SILO.weather","text":"Weather variables returned include: daily_rain - Daily rainfall (mm) max_temp - Maximum temperature (°C) min_temp - Minimum temperature (°C) vp_deficit - Vapour pressure deficit (hPa) radiation - Solar exposure, consisting direct diffuse components (MJ m-2) day_lengths - Time sunrise sunset (h) taken SILO environments, point data sequentially downloaded SILO. many environments year, data downloaded extracted whole gridded data files efficiently. locations outside Australian land area return NA. internet connection high download speed suggested downloading gridded data many environments.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.SILO.weather.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get weather data from SILO — get.SILO.weather","text":"Jeffrey, S. J., Carter, J. O., Moodie, K. B., & Beswick, . R. (2001). Using spatial interpolation construct comprehensive archive Australian climate data. Environmental Modelling & Software, 16(4), 309–330.","code":""},{"path":[]},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.SILO.weather.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get weather data from SILO — get.SILO.weather","text":"Nick Fradgley","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.W.ECs.html","id":null,"dir":"Reference","previous_headings":"","what":"Get environmental covariates from weather data — get.W.ECs","title":"Get environmental covariates from weather data — get.W.ECs","text":"function calculate Environmental Covariates (ECs) daily weather data derived get.SILO.weather() get.BARRA.weather() functions.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.W.ECs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get environmental covariates from weather data — get.W.ECs","text":"","code":"get.W.ECs(   weather,   sow.dates,   cardT = NULL,   stg.TT = NULL,   DTH.TT = NULL,   verbose = TRUE )"},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.W.ECs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get environmental covariates from weather data — get.W.ECs","text":"weather list length 2. Weather data outputted get.SILO.weather(). weather$data list data matrices covariate rows environments days year columns. Required weather covariate names list items include: daily_rain max_temp min_temp vp_deficit radiation Additionally, add.SMI() also use estimate soil moisture index input weather object, average SMI per stage ECs also calculated. weather$Env.info data frame info environment required function. sow.dates Vector character strings dates sowing trail environment dd/mm/yyy format. Must order rownames weather data weather$data matrices. cardT Optional. Vector minimum, optimal maximum cardinal temperatures calculate thermal time. Default values min = 0, opt = 26, max = 34. Custom values can used define crop growth parameters. stg.TT Optional. Thermal time parameters used estimate number days wheat crop growth stages (see details). Default values: Emergence End juvenile growth stages = 500 Heading Flowering = 250 Flowering Start grain fill = 250 Start Grain fill End grain fill = 250 End grain fill Maturity = 400 Custom values can used define crop phenologies growth rates DTH.TT Optional. Estimated thermal time sowing heading growth stage occurs. Default value = 1285. verbose Logical. progress printed? Default = TRUE.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.W.ECs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get environmental covariates from weather data — get.W.ECs","text":"list length 2: $ECs - data frame weather EC values environment names rows covariates columns. $gs.dates - data frame estimated dates yyyy-mm-dd format growth stage per environment environment names rows abbreviated growth stage names columns.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.W.ECs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get environmental covariates from weather data — get.W.ECs","text":"ECs calculated periods crop growth stages estimated based thermal time degree days model defined cardT parameters. Crop growth stages abbreviations equivalent Zadocks scale: Sow - Sowing (GS0) Emer - Emergence (GS10) Juv - End Juvenile (GS30) - Heading (GS55) Flow - Flowering (GS65) Sgf - Start grain filling (GS71) Egf - End Grain filling (GS87) Mat - Maturity (GS92) abbreviations ECs calculated growth stage intervals combined EC names include: Ndays - Number days TotRain - Total rainfall (mm) Avtemp - Average average daily temperatures (°C) AvMintemp - Average daily minimum temperatures (°C) Avmaxtemp -  Average daily minimum temperatures (°C) Ndays<0 - Number frost days minimum temperature 0 °C Ndays>26 - Number warm days max temp 26 °C Ndays>34 - Number hot days max temp 34 °C AveSR -  Average solar radiation (MJ m-2) AveVPD - Average vapour pressure deficit (hPa) AvePQ - Average photothermal quotient (MJ m-2 day-1 °C-1) AveDL - Average day length (hr) AveSMI - Average Soil Moisture index (add.SMI() function used) example, TotRain_He2Flw indicates total rainfall heading flowering growth stages. specific ECs include: TotRain_priorSow - total rainfall Jan 1st sowing day (mm) Mintemp<0_Flw - Number number frost days within 7 days estimated flowering date details ECs calculated, see Fradgley et al. 2025.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/get.W.ECs.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get environmental covariates from weather data — get.W.ECs","text":"Fradgley et al. (2025) Prediction Australian wheat genotype environment interactions mega-environments, review. Zadoks, J. C., Chang, T. T., & Konzak, C. F. (1974). decimal code growth stages cereals. Weed research, 14(6), 415-421.","code":""},{"path":[]},{"path":"https://nickflagleaf.github.io/EC4MET/reference/pred.env.effs.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict environmental effects — pred.env.effs","title":"Predict environmental effects — pred.env.effs","text":"function train random forest model predict environmental effects defined MET mixed model analysis ECs predictors.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/pred.env.effs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict environmental effects — pred.env.effs","text":"","code":"pred.env.effs(train.ECs, new.ECs, E.effs, verbose = TRUE)"},{"path":"https://nickflagleaf.github.io/EC4MET/reference/pred.env.effs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict environmental effects — pred.env.effs","text":"train.ECs data frame weather /soil ECs observed environments output get.W.ECs() get.S.ECs() functions. new.ECs data frame weather /soil ECs new environments output get.W.ECs() get.S.ECs() functions. E.effs data frame several vector single environmental effects parameters fitted multi-environmnet trial analysis mixed model. Latent environmental effect factor loadings decompose GxE can defined described Smith et al (2021) verbose Logical. progress printed? Default = TRUE.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/pred.env.effs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict environmental effects — pred.env.effs","text":"data frame environmental effect predictions new environments environments rows environmental effect variates columns.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/pred.env.effs.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Predict environmental effects — pred.env.effs","text":"Smith, ., Norman, ., Kuchel, H., & Cullis, B. (2021). Plant Variety Selection Using Interaction Classes Derived Factor Analytic Linear Mixed Models: Models Independent Variety Effects. Frontiers Plant Science, 12. https://doi.org/10.3389/fpls.2021.737462","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/pred.env.effs.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Predict environmental effects — pred.env.effs","text":"Nick Fradgley","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/wheat.area.envs.html","id":null,"dir":"Reference","previous_headings":"","what":"Australian wheat belt environments info — wheat.area.envs","title":"Australian wheat belt environments info — wheat.area.envs","text":"Lat lon location coordinates 5,080 environments within Australian wheat belt according data Monfreda et al.  geodata R package. Environment locations repeated multiple years 2018 2020. sowing dates 1st May.","code":""},{"path":"https://nickflagleaf.github.io/EC4MET/reference/wheat.area.envs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Australian wheat belt environments info — wheat.area.envs","text":"","code":"wheat.area.envs"},{"path":"https://nickflagleaf.github.io/EC4MET/reference/wheat.area.envs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Australian wheat belt environments info — wheat.area.envs","text":"data frame 5080 rows 5 columns:","code":""}]
